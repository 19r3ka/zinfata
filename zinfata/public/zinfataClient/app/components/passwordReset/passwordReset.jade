div(ng-if='!validated')
    h3 Token Verification
    p
    |  Please copy and paste in the field below the token we sent you via email.<br/>
    |  Alternatively, you can lick on the link included in the email for automatic verification.

    form(name='tokenVerificationForm', role='form', novalidate)
        .form-group(ng-class="{ 'has-error': tokenVerificationForm.resetToken.$touched && tokenVerificationForm.resetToken.$invalid }")
            input.form-control(type='text', name='resetToken', placeholder='Verification Token', ng-model='credentials.token', required)
            .help-block(ng-messages='tokenVerificationForm.resetToken.$error', ng-show='tokenVerificationForm.resetToken.$touched')
                div(ng-messages-include='/zinfataClient/app/shared/messages/formMessages.html')
        .form-group
            button.btn(type='submit', class=['btn-primary', 'form-control'], ng-disabled='tokenVerificationForm.$invalid', ng-click='verify(credentials.token)') Verify!

div(ng-if='validated')
    h3 Password Reset

    form(name='passwordResetForm', role='form', novalidate)
        .form-group(ng-class="{ 'has-error': passwordResetForm.password.$touched && passwordResetForm.password.$invalid }")
            input.form-control(type='password', name='password', placeholder='Password', ng-minlength='8', ng-model='credentials.password', required, autofocus)
            .help-block(ng-messages='passwordResetForm.password.$error', ng-show='passwordResetForm.password.$touched')
                div(ng-messages-include='/zinfataClient/app/shared/messages/formMessages.html')
        .form-group
            input.form-control(type='hidden', name='resetToken', ng-model='credentials.token')
        .form-group(ng-class="{ 'has-error': passwordResetForm.passwordConfirmation.$touched && passwordResetForm.passwordConfirmation.$invalid }")
            input.form-control(type='password', name='passwordConfirmation', placeholder='Confirm Password', ng-model='credentials.passwordConfirmation', ng-minlength='8', z-match='credentials.password', required)
            .help-block(ng-messages='passwordResetForm.passwordConfirmation.$error', ng-show='passwordResetForm.passwordConfirmation.$touched')
                div(ng-messages-include='/zinfataClient/app/shared/messages/formMessages.html')
        .form-group
            button.btn(type='submit', class=['btn-primary', 'form-control'], ng-disabled='passwordResetForm.$invalid', ng-click='update(credentials)') Reset Password!
